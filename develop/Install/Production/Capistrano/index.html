<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/images/favicon.svg"><title>Overview | TaxonWorks Docs</title><meta name="description" content="TaxonWorks is a workbench with many tools for describing life. This site contains the documentation.">
    <link rel="preload" href="/assets/style-B3IP0MnU.css" as="style"><link rel="stylesheet" href="/assets/style-B3IP0MnU.css">
    <link rel="modulepreload" href="/assets/app-Bn9GZJrW.js"><link rel="modulepreload" href="/assets/index.html-FEeM2ch1.js">
    <link rel="prefetch" href="/assets/index.html-Bs-e3i1b.js" as="script"><link rel="prefetch" href="/assets/index.html-BTL1NSDj.js" as="script"><link rel="prefetch" href="/assets/branding.html-ToxiZQ3X.js" as="script"><link rel="prefetch" href="/assets/citing-taxonworks.html-C6dM1zoF.js" as="script"><link rel="prefetch" href="/assets/contact.html-DLNUvEgg.js" as="script"><link rel="prefetch" href="/assets/events.html-CflqFIkw.js" as="script"><link rel="prefetch" href="/assets/glossary.html-DZvaAHQ-.js" as="script"><link rel="prefetch" href="/assets/index.html-C-hYDPFD.js" as="script"><link rel="prefetch" href="/assets/contributing.html-DARtkC5z.js" as="script"><link rel="prefetch" href="/assets/index.html-BdC0_48j.js" as="script"><link rel="prefetch" href="/assets/index.html-D-EvCBLJ.js" as="script"><link rel="prefetch" href="/assets/api.html-DGUmSEov.js" as="script"><link rel="prefetch" href="/assets/community-resources.html-jS89ci7t.js" as="script"><link rel="prefetch" href="/assets/data-quality.html-Dfmjrgl0.js" as="script"><link rel="prefetch" href="/assets/export.html-BsCDAFm0.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-T3klIQXC.js" as="script"><link rel="prefetch" href="/assets/import.html-D1oXtagE.js" as="script"><link rel="prefetch" href="/assets/migrate-to-TaxonWorks.html-CgUGJzrg.js" as="script"><link rel="prefetch" href="/assets/other-documents.html-DcsFHLW4.js" as="script"><link rel="prefetch" href="/assets/start-a-project.html-D85X1_s8.js" as="script"><link rel="prefetch" href="/assets/videos.html-BU7GP4oI.js" as="script"><link rel="prefetch" href="/assets/index.html-buRKaJZG.js" as="script"><link rel="prefetch" href="/assets/contributing.html-44sErWi4.js" as="script"><link rel="prefetch" href="/assets/conventions.html-7A51APC9.js" as="script"><link rel="prefetch" href="/assets/environment.html-Dy04jhVq.js" as="script"><link rel="prefetch" href="/assets/roadmap.html-CdpZBMne.js" as="script"><link rel="prefetch" href="/assets/troubleshoot.html-C6pwGKfz.js" as="script"><link rel="prefetch" href="/assets/index.html-Dndp_1JD.js" as="script"><link rel="prefetch" href="/assets/models.html-s1LF3T4w.js" as="script"><link rel="prefetch" href="/assets/tables.html-Bs-d5Utp.js" as="script"><link rel="prefetch" href="/assets/index.html-CR1e7N7E.js" as="script"><link rel="prefetch" href="/assets/index.html-BnF-QNft.js" as="script"><link rel="prefetch" href="/assets/index.html-CGMm95bf.js" as="script"><link rel="prefetch" href="/assets/bug-reporting.html-BAAhtgik.js" as="script"><link rel="prefetch" href="/assets/contributing.html-AYlkfuUl.js" as="script"><link rel="prefetch" href="/assets/installation.html-x3a7tSAC.js" as="script"><link rel="prefetch" href="/assets/index.html-BfO6h66T.js" as="script"><link rel="prefetch" href="/assets/index.html-BwPH1meB.js" as="script"><link rel="prefetch" href="/assets/index.html-BfxdIPDk.js" as="script"><link rel="prefetch" href="/assets/annotation.html-CwLn9pj7.js" as="script"><link rel="prefetch" href="/assets/collecting_event.html-Ds-31HRF.js" as="script"><link rel="prefetch" href="/assets/collectionobject.html-CIrwQ_zg.js" as="script"><link rel="prefetch" href="/assets/conventions.html-P0xpOS6w.js" as="script"><link rel="prefetch" href="/assets/customization.html-Depc-2n7.js" as="script"><link rel="prefetch" href="/assets/digitization.html-vtQWzdfM.js" as="script"><link rel="prefetch" href="/assets/identifiers.html-Bva96f7D.js" as="script"><link rel="prefetch" href="/assets/matrices.html-BNpPPCxs.js" as="script"><link rel="prefetch" href="/assets/nomenclature.html-C7xHVmG0.js" as="script"><link rel="prefetch" href="/assets/tasks.html-DqieOMW0.js" as="script"><link rel="prefetch" href="/assets/index.html-DFA1P7l9.js" as="script"><link rel="prefetch" href="/assets/help.html-CerKnQNg.js" as="script"><link rel="prefetch" href="/assets/radial.html-aBGfJJEh.js" as="script"><link rel="prefetch" href="/assets/rake_task.html-CLTBEF-y.js" as="script"><link rel="prefetch" href="/assets/scaffolding.html-yeC_cE2_.js" as="script"><link rel="prefetch" href="/assets/taxonworks_task.html-Dtsp0deo.js" as="script"><link rel="prefetch" href="/assets/tests.html-BsF2yLSY.js" as="script"><link rel="prefetch" href="/assets/index.html-5xTV5eT1.js" as="script"><link rel="prefetch" href="/assets/index.html-Px_0OQW4.js" as="script"><link rel="prefetch" href="/assets/index.html-BnehkdAT.js" as="script"><link rel="prefetch" href="/assets/index.html-CLFy4FQf.js" as="script"><link rel="prefetch" href="/assets/index.html-CgY76PTr.js" as="script"><link rel="prefetch" href="/assets/UPDATING_DOCKER_CONTAINER.html-Cu1gl6HV.js" as="script"><link rel="prefetch" href="/assets/win_README.html-D2RozU9y.js" as="script"><link rel="prefetch" href="/assets/index.html-C4EE6CBX.js" as="script"><link rel="prefetch" href="/assets/arch.html-BQ7lvO95.js" as="script"><link rel="prefetch" href="/assets/macos.html-739hHZ6A.js" as="script"><link rel="prefetch" href="/assets/ubuntu_22_04.html-ClYIco0P.js" as="script"><link rel="prefetch" href="/assets/ubuntu_24_04.html-CX3QcxOU.js" as="script"><link rel="prefetch" href="/assets/win_10.html-FP_vsyD0.js" as="script"><link rel="prefetch" href="/assets/index.html-K8mfuyQE.js" as="script"><link rel="prefetch" href="/assets/404.html-DGRc3j6D.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BwUQebJ6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name vp-hide-mobile" aria-hidden="true">TaxonWorks Docs</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/" aria-label="Guide"><!---->Guide<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/develop/" aria-label="Develop"><!---->Develop<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/" aria-label="About"><!---->About<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/start-a-project.html" aria-label="Start a project"><!---->Start a project<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/citing-taxonworks.html" aria-label="Cite"><!---->Cite<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://api.taxonworks.org/" aria-label="API" rel="noopener noreferrer" target="_blank"><!---->API<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks/issues/new/choose" aria-label="Bug report" rel="noopener noreferrer" target="_blank"><!---->Bug report<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/contact.html" aria-label="Contact"><!---->Contact<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="GitHub"><span class="title">GitHub</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="GitHub"><span class="title">GitHub</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks_doc" aria-label="Docs" rel="noopener noreferrer" target="_blank"><!---->Docs<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks" aria-label="Code" rel="noopener noreferrer" target="_blank"><!---->Code<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks_api" aria-label="API" rel="noopener noreferrer" target="_blank"><!---->API<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/develop/Install/Production/Capistrano/" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/es/" aria-label="Español"><!---->Español<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/" aria-label="Guide"><!---->Guide<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/develop/" aria-label="Develop"><!---->Develop<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/" aria-label="About"><!---->About<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/start-a-project.html" aria-label="Start a project"><!---->Start a project<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/citing-taxonworks.html" aria-label="Cite"><!---->Cite<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://api.taxonworks.org/" aria-label="API" rel="noopener noreferrer" target="_blank"><!---->API<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks/issues/new/choose" aria-label="Bug report" rel="noopener noreferrer" target="_blank"><!---->Bug report<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/about/contact.html" aria-label="Contact"><!---->Contact<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="GitHub"><span class="title">GitHub</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="GitHub"><span class="title">GitHub</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks_doc" aria-label="Docs" rel="noopener noreferrer" target="_blank"><!---->Docs<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks" aria-label="Code" rel="noopener noreferrer" target="_blank"><!---->Code<!----></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/SpeciesFileGroup/taxonworks_api" aria-label="API" rel="noopener noreferrer" target="_blank"><!---->API<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/develop/Install/Production/Capistrano/" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/es/" aria-label="Español"><!---->Español<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/develop/" aria-label="Develop"><!---->Develop<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/develop/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/contributing.html" aria-label="Contributing"><!---->Contributing<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/develop/Install/" aria-label="Install"><!---->Install<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/" aria-label="Development"><!---->Development<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/" aria-label="Native"><!---->Native<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/" aria-label="Operating Systems"><!---->Operating Systems<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/arch.html" aria-label="Arch Linux"><!---->Arch Linux<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/macos.html" aria-label="macOS"><!---->macOS<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/ubuntu_22_04.html" aria-label="Ubuntu 22.04"><!---->Ubuntu 22.04<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/ubuntu_24_04.html" aria-label="Ubuntu 24.04"><!---->Ubuntu 24.04<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Native/win_10.html" aria-label="Windows 10 with WSL2"><!---->Windows 10 with WSL2<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Docker/" aria-label="Docker"><!---->Docker<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Docker/UPDATING_DOCKER_CONTAINER.html" aria-label="Build and push the development container to Docker"><!---->Build and push the development container to Docker<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Docker/" aria-label="Docker"><!---->Docker<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Development/Docker/win_README.html" aria-label="Windows 10 with WSL2"><!---->Windows 10 with WSL2<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/develop/Install/Production/" aria-label="Production"><!---->Production<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/develop/Install/Production/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Production/Kubernetes/" aria-label="Kubernetes"><!---->Kubernetes<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Install/Production/Kubernetes/" aria-label="Overview"><!---->Overview<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/develop/Install/Production/Capistrano/" aria-label="Capistrano"><!---->Capistrano<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/develop/Install/Production/Capistrano/" aria-label="Overview"><!---->Overview<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/develop/Install/" aria-label="Overview"><!---->Overview<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/" aria-label="Code"><!---->Code<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/environment.html" aria-label="Development Environment"><!---->Development Environment<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/" aria-label="Features"><!---->Features<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/" aria-label="Scenarios"><!---->Scenarios<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/scaffolding.html" aria-label="Scaffolding"><!---->Scaffolding<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/help.html" aria-label="Help bubbles"><!---->Help bubbles<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/rake_task.html" aria-label="Rake task"><!---->Rake task<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/radial.html" aria-label="Radial"><!---->Radial<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/taxonworks_task.html" aria-label="TaxonWorks task"><!---->TaxonWorks task<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/Features/tests.html" aria-label="Tests"><!---->Tests<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/conventions.html" aria-label="Conventions"><!---->Conventions<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/contributing.html" aria-label="Contributing"><!---->Contributing<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/troubleshoot.html" aria-label="Troubleshoot"><!---->Troubleshoot<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Code/roadmap.html" aria-label="Roadmap"><!---->Roadmap<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Data/" aria-label="Data"><!---->Data<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Data/" aria-label="Overview"><!---->Overview<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Data/models.html" aria-label="Models"><!---->Models<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/develop/Data/tables.html" aria-label="Tables"><!---->Tables<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--[--><div class="vue-press-information">This site uses <a href="https://v2.vuepress.vuejs.org/">VuePress</a>, a static site generator</div><!--]--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h1><div class="hint-container caution"><p class="hint-container-title">Caution</p><p>Documentation here is over 8 years old! The approach is not presently maintained, however updating it to work, or taking a similar more modern approach, should still be feasible.</p></div><p>The approach assumed:</p><ul><li>You are deploying with <a href="https://capistranorb.com/" target="_blank" rel="noopener noreferrer">Capistrano.</a></li><li>You have two machines, &quot;deploy&quot; and &quot;server&quot;, in this example both are Ubuntu 14.04(+) LTS (not 14.10)</li><li>You are resonably capable with a command line environment*</li><li>You have &quot;provisioned&quot; production with the pertinent shell script</li><li>Your &quot;deploy&quot; machine has Ruby, bundler and rubygems installed</li><li>You can ssh without password to your &quot;server&quot;</li><li>Instructions containing all cap values are variables that you must replace (e.g. USERNAME)</li><li>Configure &quot;Server&quot; first, &quot;Deploy&quot; second</li></ul><h2 id="the-server" tabindex="-1"><a class="header-anchor" href="#the-server"><span>The Server</span></a></h2><p>Thanks to <a href="https://robmclarty.com/words/articles/how_to_deploy_a_rails_4_app_with_git_and_capistrano/" target="_blank" rel="noopener noreferrer">Rob Mclarty&#39;s blog post</a> for the general strategy.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Ensure that you can login via ssh with the user that will deploy taxonworks, you can find many places to describe howto set this up.</p></div><p>A shell script to configure the Server (note the very outdated version) was something like:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Target is Ubuntu 14.04</span></span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> update</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Build environment</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">git</span> gcc nodejs build-essential libffi-dev libgdbm-dev libncurses5-dev libreadline-dev libssl-dev libyaml-dev zlib1g-dev libcurl4-openssl-dev </span>
<span class="line"></span>
<span class="line"><span class="token comment"># Postgres</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> libpq-dev libproj-dev libgeos-dev libgeos++-dev postgis* postgresql</span>
<span class="line"></span>
<span class="line"><span class="token comment">#  ImageMagick</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> pkg-config imagemagick libmagickcore-dev libmagickwand-dev </span>
<span class="line"></span>
<span class="line"><span class="token comment"># Tesseract</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> tesseract-ocr</span>
<span class="line"></span>
<span class="line"><span class="token comment"># cmake</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> cmake</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Rbenv  </span></span>
<span class="line"><span class="token function">git</span> clone https://github.com/sstephenson/rbenv.git ~/.rbenv</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;eval &quot;$(rbenv init -)&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc</span>
<span class="line"><span class="token function">git</span> clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build</span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">source</span> ~/.bashrc</span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">CONFIGURE_OPTS</span><span class="token operator">=</span><span class="token string">&quot;--with-readline-dir=/usr/include/readline&quot;</span> rbenv <span class="token function">install</span> <span class="token number">2.3</span>.1 </span>
<span class="line">rbenv global <span class="token number">2.3</span>.1</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Bundler</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> bundler</span>
<span class="line"></span>
<span class="line">rbenv <span class="token builtin class-name">exec</span> gem <span class="token function">install</span> bundler  --no-ri --no-rdoc</span>
<span class="line">rbenv rehash</span>
<span class="line"></span>
<span class="line"><span class="token comment"># apt-get Passenger config</span></span>
<span class="line"><span class="token comment"># https://www.phusionpassenger.com/documentation/Users%20guide%20Nginx.html#install_on_debian_ubuntu</span></span>
<span class="line"><span class="token function">sudo</span> apt-key adv <span class="token parameter variable">--keyserver</span> keyserver.ubuntu.com --recv-keys 561F9B9CAC40B2F7</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> apt-transport-https ca-certificates</span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;deb https://oss-binaries.phusionpassenger.com/apt/passenger trusty main&#39;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/passenger.list  <span class="token operator">&gt;</span> /dev/null</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chown</span> root: /etc/apt/sources.list.d/passenger.list</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">655</span> /etc/apt/sources.list.d/passenger.list</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> update</span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> nginx-extras passenger</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Manually complete:</span></span>
<span class="line"><span class="token comment"># Edit /etc/nginx/nginx.conf and uncomment passenger_root and passenger_ruby. </span></span>
<span class="line"><span class="token comment"># sudo service nginx restart</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="add-a-group" tabindex="-1"><a class="header-anchor" href="#add-a-group"><span>Add a group</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo groupadd deployers</span>
<span class="line">sudo usermod -a -G deployers USERNAME </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo mkdir /var/www</span>
<span class="line">sudo mkdir /var/www/taxonworks</span>
<span class="line">sudo mkdir /var/www/taxonworks/shared</span>
<span class="line">sudo mkdir var/www/taxonworks/shared/config/</span>
<span class="line">sudo chown -R USERNAME:deployers /var/www</span>
<span class="line">sudo chmod -R g+w /var/www</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="configure-postgres" tabindex="-1"><a class="header-anchor" href="#configure-postgres"><span>Configure postgres</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo -u postgres psql postgres</span>
<span class="line"></span>
<span class="line">alter user postgres with password &#39;PASSWORD1&#39;;</span>
<span class="line">create role taxonworks_production login createdb superuser;</span>
<span class="line">alter user taxonworks_production with password &#39;PASSWORD2&#39;;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure nginx to point to your passenger ruby, in <code>/etc/nginx/nginx.conf</code> add/edit the line (change USERNAME!):</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">  passenger_ruby /home/USERNAME/.rbenv/shims/ruby;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Set permissions for nginx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo chmod g+x,o+x /var/www/taxonworks/current/config.ru</span>
<span class="line">sudo chmod g+x,o+x /var/www/taxonworks</span>
<span class="line">sudo chmod g+x,o+x /var/www</span>
<span class="line">sudo chmod g+x,o+x /var/www/taxonworks/current/public</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create nginx site</p><ul><li>Add an an available site to /etc/nginx/sites-enabled (see example here)</li><li>Within /etc/nginx/sites-avaiable create a symbolic link</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo ln -ls ../sites-available/taxonworks taxonworks</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="on-deploy" tabindex="-1"><a class="header-anchor" href="#on-deploy"><span>On &quot;Deploy&quot;</span></a></h2><h4 id="clone-the-master-branch-of-taxonworks" tabindex="-1"><a class="header-anchor" href="#clone-the-master-branch-of-taxonworks"><span>Clone the master branch of TaxonWorks.</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">  git clone https://github.com/SpeciesFileGroup/taxonworks.git</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="install-capistrano" tabindex="-1"><a class="header-anchor" href="#install-capistrano"><span>Install capistrano</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">  gem install capistrano</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="create-a-new-branch-inside-your-taxonworks-folder" tabindex="-1"><a class="header-anchor" href="#create-a-new-branch-inside-your-taxonworks-folder"><span>Create a new branch, inside your taxonworks folder:</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">  git branch capistrano</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="checkout-that-branch" tabindex="-1"><a class="header-anchor" href="#checkout-that-branch"><span>Checkout that branch</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">  git checkout capistrano</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="run-capistrano-to-setup-capify-taxonworks" tabindex="-1"><a class="header-anchor" href="#run-capistrano-to-setup-capify-taxonworks"><span>Run capistrano to setup &quot;capify&quot; taxonworks</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"> bundle exec cap install</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This creates a <code>config/deploy</code> directory, and some sample files.</p><h4 id="configure-the-capistrano-files" tabindex="-1"><a class="header-anchor" href="#configure-the-capistrano-files"><span>Configure the capistrano files</span></a></h4><div class="language-ruby line-numbers-mode" data-highlighter="prismjs" data-ext="rb" data-title="rb"><pre><code><span class="line"></span>
<span class="line"><span class="token comment"># config/deploy.rb</span></span>
<span class="line"></span>
<span class="line">lock <span class="token string-literal"><span class="token string">&#39;3.4.0&#39;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#set :rbenv_type, :user</span></span>
<span class="line"></span>
<span class="line">set <span class="token symbol">:rbenv_ruby</span><span class="token punctuation">,</span> <span class="token builtin">File</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;.ruby-version&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip</span>
<span class="line">set <span class="token symbol">:application</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;taxonworks&#39;</span></span></span>
<span class="line">set <span class="token symbol">:repo_url</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;git@github.com:SpeciesFileGroup/taxonworks.git&#39;</span></span></span>
<span class="line"></span>
<span class="line">set <span class="token symbol">:linked_files</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">%w{config/database.yml config/application_settings.yml config/secrets.yml}</span></span></span>
<span class="line">set <span class="token symbol">:linked_dirs</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">%w{bin log tmp/pids tmp/cache tmp/sockets vendor/bundle public/system public/images/tmp}</span></span></span>
<span class="line"></span>
<span class="line">namespace <span class="token symbol">:deploy</span> <span class="token keyword">do</span></span>
<span class="line"></span>
<span class="line">  desc <span class="token string-literal"><span class="token string">&#39;Restart application&#39;</span></span></span>
<span class="line">  task <span class="token symbol">:restart</span> <span class="token keyword">do</span></span>
<span class="line">    on roles<span class="token punctuation">(</span><span class="token symbol">:app</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token symbol">in</span><span class="token operator">:</span> <span class="token symbol">:sequence</span><span class="token punctuation">,</span> <span class="token symbol">wait</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token keyword">do</span></span>
<span class="line">      <span class="token comment"># Your restart mechanism here, for example:</span></span>
<span class="line">      <span class="token comment"># run &quot;touch #{current_release}/tmp/restart.txt&quot;</span></span>
<span class="line">       execute <span class="token symbol">:touch</span><span class="token punctuation">,</span> release_path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;tmp/restart.txt&#39;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line">  <span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">  after <span class="token symbol">:publishing</span><span class="token punctuation">,</span> <span class="token symbol">:restart</span></span>
<span class="line"></span>
<span class="line">  after <span class="token symbol">:restart</span><span class="token punctuation">,</span> <span class="token symbol">:clear_cache</span> <span class="token keyword">do</span></span>
<span class="line">    on roles<span class="token punctuation">(</span><span class="token symbol">:web</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token symbol">in</span><span class="token operator">:</span> <span class="token symbol">:groups</span><span class="token punctuation">,</span> <span class="token symbol">limit</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token symbol">wait</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token keyword">do</span></span>
<span class="line">      <span class="token comment"># Here we can do anything such as:</span></span>
<span class="line">      <span class="token comment"># within release_path do</span></span>
<span class="line">      <span class="token comment">#   execute :rake, &#39;cache:clear&#39;</span></span>
<span class="line">      <span class="token comment"># end</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line">  <span class="token keyword">end</span></span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">namespace <span class="token symbol">:setup</span> <span class="token keyword">do</span></span>
<span class="line"></span>
<span class="line">  desc <span class="token string-literal"><span class="token string">&quot;Check that we can access everything&quot;</span></span></span>
<span class="line">  task <span class="token symbol">:check_write_permissions</span> <span class="token keyword">do</span></span>
<span class="line">    on roles<span class="token punctuation">(</span><span class="token symbol">:all</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>host<span class="token operator">|</span></span>
<span class="line">      <span class="token keyword">if</span> test<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;[ -w </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">fetch<span class="token punctuation">(</span><span class="token symbol">:deploy_to</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string"> ]&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        info <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">fetch<span class="token punctuation">(</span><span class="token symbol">:deploy_to</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string"> is writable on </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">host</span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">      <span class="token keyword">else</span></span>
<span class="line">        error <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">fetch<span class="token punctuation">(</span><span class="token symbol">:deploy_to</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string"> is not writable on </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">host</span><span class="token delimiter punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">      <span class="token keyword">end</span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line">  <span class="token keyword">end</span></span>
<span class="line"></span>
<span class="line">  desc <span class="token string-literal"><span class="token string">&quot;Upload database.yml file.&quot;</span></span></span>
<span class="line">  task <span class="token symbol">:upload_yml</span> <span class="token keyword">do</span></span>
<span class="line">    on roles<span class="token punctuation">(</span><span class="token symbol">:app</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span>
<span class="line">      execute <span class="token string-literal"><span class="token string">&quot;mkdir -p </span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">shared_path</span><span class="token delimiter punctuation">}</span></span><span class="token string">/config&quot;</span></span></span>
<span class="line">      upload<span class="token operator">!</span> <span class="token class-name">StringIO</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token builtin">File</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;config/database.yml&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">shared_path</span><span class="token delimiter punctuation">}</span></span><span class="token string">/config/database.yml&quot;</span></span></span>
<span class="line">    <span class="token keyword">end</span></span>
<span class="line">  <span class="token keyword">end</span></span>
<span class="line">  </span>
<span class="line"><span class="token keyword">end</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Minimally, modify <code>production.rb</code> to point to your machine, and to use your USERNAME:</p><div class="language-ruby line-numbers-mode" data-highlighter="prismjs" data-ext="rb" data-title="rb"><pre><code><span class="line"><span class="token comment"># production.rb</span></span>
<span class="line"></span>
<span class="line">set <span class="token symbol">:stage</span><span class="token punctuation">,</span> <span class="token symbol">:production</span></span>
<span class="line">set <span class="token symbol">:deploy_to</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&#39;/var/www/taxonworks&#39;</span></span></span>
<span class="line">set <span class="token symbol">:user</span><span class="token punctuation">,</span> fetch<span class="token punctuation">(</span><span class="token symbol">:remote_user</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment"># EDIT THIS LINE: </span></span>
<span class="line">server <span class="token string-literal"><span class="token string">&#39;your.server.org&#39;</span></span><span class="token punctuation">,</span> <span class="token symbol">roles</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">%w{app web db}</span></span><span class="token punctuation">,</span> <span class="token symbol">user</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">&#39;username_from_production&#39;</span></span><span class="token punctuation">,</span> <span class="token symbol">primary</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">set <span class="token symbol">:use_sudo</span><span class="token punctuation">,</span> <span class="token boolean">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Add something like this to your nginx/sites-available/taxonworks file on your server:</p><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx" data-title="nginx"><pre><code><span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span> default_server</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token directive"><span class="token keyword">server_name</span> your.server.name.or.ip</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token directive"><span class="token keyword">passenger_enabled</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token directive"><span class="token keyword">passenger_app_env</span> production</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token directive"><span class="token keyword">root</span> /var/www/taxonworks/current/public</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="copy-config-files" tabindex="-1"><a class="header-anchor" href="#copy-config-files"><span>Copy config files</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">scp config/database.yml USERNAME@SERVERNAME:/var/www/taxonworks/shared/config/database.yml</span>
<span class="line">scp config/application_settings.yml USERNAME@SERVERNAME:/var/www/taxonworks/shared/config/application_settings.yml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="deploy" tabindex="-1"><a class="header-anchor" href="#deploy"><span>Deploy</span></a></h4><p>Inside your taxonworks directory, with the capistrano branch checkout out</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">cap production deploy</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/SpeciesFileGroup/taxonworks_doc/edit/development/docs/develop/Install/Production/Capistrano/README.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->Edit this page<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: diapriid@gmail.com">mjy</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/develop/Install/Production/Kubernetes/" aria-label="Kubernetes"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Kubernetes</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Bn9GZJrW.js" defer></script>
  </body>
</html>
